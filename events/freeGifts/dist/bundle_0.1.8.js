!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="https://file.91yaowang.com/yaowang/events/yaoday/dist/",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){window.underscore=window._=n(2),window.Backbone=n(3),window.store=n(4),n(5),n(26),n(31),n(32);var i=location.origin;window.fresh={cache:{},loadDate:0,apiRoot:i+"/app/webservice/v2/",init:function(){this.$body=$("body"),this.$main=$("#mainPage"),this.$content=$("#content");var t=n(33);window.fresh.router=new t,Backbone.history.start({pushState:!1})}},$(function(){function t(){o&&!r?$.ajax({method:"POST",url:location.origin+"/app/webservice/v2/inviteCodeOption",data:{url:location.href,loginToken:o},dataType:"json",success:function(t){r=t.data.inviteValue,localStorage.setItem("yw_user_tempCode",r),e()}}):e()}function e(){jsb.setShareInfo({title:"Macbook、海蓝之谜面霜，0元白拿咯！",desc:"甄选天下精品只为最美的你",link:location.origin+"/events/freeGifts/index.html?code="+r,icon:$.getStaticOrgin()+"/yaowang/events/freeGifts/dist/share.jpg"})}fresh.init();var n=location.href,i=$.getParam(n,"isapp"),o=localStorage.getItem("yw_user_loginToken")||"",r=$.getParam(n,"code")||"";i&&(o=$.getParam(n,"loginToken")||""),o&&localStorage.setItem("yw_user_loginToken",o),r&&localStorage.setItem("yw_user_inviteCode",r),t()});var o=o||[];window._vds=o,function(){o.push(["setAccountId","988386d1bd106017"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://":"http://")+"dn-growing.qbox.me/vds.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}()},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function i(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=I}function o(t,e){var n=k.length,i=t.constructor,o=d.isFunction(i)&&i.prototype||p,r="constructor";for(d.has(t,r)&&!d.contains(e,r)&&e.push(r);n--;)r=k[n],r in t&&t[r]!==o[r]&&!d.contains(e,r)&&e.push(r)}function r(t){if(!d.isObject(t))return{};if(x)return x(t);T.prototype=t;var e=new T;return T.prototype=null,e}function a(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var a=r(t.prototype),s=t.apply(a,o);return d.isObject(s)?s:a}function s(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=t(r),s=a.length,c=0;c<s;c++){var l=a[c];e&&void 0!==n[l]||(n[l]=r[l])}return n}}function c(t,e,n){return null==t?d.identity:d.isFunction(t)?l(t,e,n):d.isObject(t)?d.matcher(t):d.property(t)}function n(t){return function(e){return null==e?void 0:e[t]}}function l(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}}function u(t,e,n,o){for(var r=[],a=0,s=o||0,c=S(t);s<c;s++){var l=t[s];if(i(l)&&(d.isArray(l)||d.isArguments(l))){e||(l=u(l,e,n));var h=0,f=l.length;for(r.length+=f;h<f;)r[a++]=l[h++]}else n||(r[a++]=l)}return r}function h(t,e,n){return function(i,o,r){var a=0,s=S(i);if("number"==typeof r)t>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=e(v.call(i,a,s),d.isNaN),r>=0?r+a:-1;for(r=t>0?a:s-1;r>=0&&r<s;r+=t)if(i[r]===o)return r;return-1}}var d=function(t){return t instanceof d?t:this instanceof d?void(this._wrapped=t):new d(t)},f=Array.prototype,p=Object.prototype,g=Function.prototype,v=(f.push,f.slice),m=p.toString,w=p.hasOwnProperty,y=Array.isArray,_=Object.keys,b=g.bind,x=Object.create,$=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],I=Math.pow(2,53)-1,S=n("length"),T=function(){};"function"!=typeof/./&&"object"!=typeof Int8Array&&(d.isFunction=function(t){return"function"==typeof t||!1}),d.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},d.each=d.forEach=function(t,e,n){e=l(e,n);var o,r;if(i(t))for(o=0,r=t.length;o<r;o++)e(t[o],o,t);else{var a=d.keys(t);for(o=0,r=a.length;o<r;o++)e(t[a[o]],a[o],t)}return t},d.has=function(t,e){return null!=t&&w.call(t,e)},d.keys=function(t){if(!d.isObject(t))return[];if(_)return _(t);var e=[];for(var n in t)d.has(t,n)&&e.push(n);return $&&o(t,e),e};var A=0;d.uniqueId=function(t){var e=++A+"";return t?t+e:e},d.isArray=y||function(t){return"[object Array]"===m.call(t)},d.isEmpty=function(t){return null==t||(i(t)&&(d.isArray(t)||d.isString(t)||d.isArguments(t))?0===t.length:0===d.keys(t).length)},d.size=function(t){return null==t?0:i(t)?t.length:d.keys(t).length},d.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,v.call(arguments,1));if(!d.isFunction(t))throw new TypeError("Bind must be called on a function");var n=v.call(arguments,2),i=function(){return a(t,i,e,this,n.concat(v.call(arguments)))};return i},d.partial=function(t){var e=v.call(arguments,1),n=function(){for(var i=0,o=e.length,r=Array(o),s=0;s<o;s++)r[s]=e[s]===d?arguments[i++]:e[s];for(;i<arguments.length;)r.push(arguments[i++]);return a(t,n,this,this,r)};return n},d.once=d.partial(d.before,2),d.allKeys=function(t){if(!d.isObject(t))return[];var e=[];for(var n in t)e.push(n);return $&&o(t,e),e},d.extend=s(d.allKeys),d.extendOwn=d.assign=s(d.keys),d.pick=function(t,e,n){var i,o,r={},a=t;if(null==a)return r;d.isFunction(e)?(o=d.allKeys(a),i=l(e,n)):(o=u(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,c=o.length;s<c;s++){var h=o[s],f=a[h];i(f,h,a)&&(r[h]=f)}return r},d.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),d.isFunction(i)?i.call(t):i},d.identity=function(t){return t},d.matcher=d.matches=function(t){return t=d.extendOwn({},t),function(e){return d.isMatch(e,t)}},d.iteratee=function(t,e){return c(t,e,1/0)},d.map=d.collect=function(t,e,n){e=c(e,n);for(var o=!i(t)&&d.keys(t),r=(o||t).length,a=Array(r),s=0;s<r;s++){var l=o?o[s]:s;a[s]=e(t[l],l,t)}return a},d.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=d.bind(t[n],t);return t},d.some=d.any=function(t,e,n){e=c(e,n);for(var o=!i(t)&&d.keys(t),r=(o||t).length,a=0;a<r;a++){var s=o?o[a]:a;if(e(t[s],s,t))return!0}return!1},d.has=function(t,e){return null!=t&&w.call(t,e)},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){d["is"+t]=function(e){return m.call(e)==="[object "+t+"]"}}),d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,E={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,N=function(t){return"\\"+E[t]};d.defaults=s(d.allKeys,!0),d.template=function(t,e,n){!e&&n&&(e=n),e=d.defaults({},e,d.templateSettings);var i=RegExp([(e.escape||M).source,(e.interpolate||M).source,(e.evaluate||M).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,i,a,s){return r+=t.slice(o,s).replace(D,N),o=s+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(e.variable||"obj","_",r)}catch(t){throw t.source=r,t}var s=function(t){return a.call(this,t,d)},c=e.variable||"obj";return s.source="function("+c+"){\n"+r+"}",s};var j=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof d&&(t=t._wrapped),e instanceof d&&(e=e._wrapped);var o=m.call(t);if(o!==m.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),r){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!j(t[c],e[c],n,i))return!1}else{var l,u=d.keys(t);if(c=u.length,d.keys(e).length!==c)return!1;for(;c--;)if(l=u[c],!d.has(e,l)||!j(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};d.isEqual=function(t,e){return j(t,e)},d.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===m.call(t)},d.contains=d.includes=d.include=function(t,e,n,o){return i(t)||(t=d.values(t)),("number"!=typeof n||o)&&(n=0),d.indexOf(t,e,n)>=0},d.indexOf=h(1,d.findIndex,d.sortedIndex),d.lastIndexOf=h(-1,d.findLastIndex),d.uniq=d.unique=function(t,e,n,i){d.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=c(n,i));for(var o=[],r=[],a=0,s=S(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&r===u||o.push(l),r=u):n?d.contains(r,u)||(r.push(u),o.push(l)):d.contains(o,l)||o.push(l)}return o},t.exports=d},function(t,e){var n={};n.VERSION="1.2.1",n.$=$;var i=n.Events={},o=/\s+/,r=function(t,e,n,i,r){var a,s=0;if(n&&"object"==typeof n){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(a=_.keys(n);s<a.length;s++)e=t(e,a[s],n[a[s]],r)}else if(n&&o.test(n))for(a=n.split(o);s<a.length;s++)e=t(e,a[s],i,r);else e=t(e,n,i,r);return e};i.on=function(t,e,n){return a(this,t,e,n)};var a=function(t,e,n,i,o){if(t._events=r(s,t._events||{},e,n,{context:i,ctx:t,listening:o}),o){var a=t._listeners||(t._listeners={});a[o.id]=o}return t};i.listenTo=function(t,e,n){if(!t)return this;var i=t._listenId||(t._listenId=_.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),r=o[i];if(!r){var s=this._listenId||(this._listenId=_.uniqueId("l"));r=o[i]={obj:t,objId:i,id:s,listeningTo:o,count:0}}return a(t,e,n,this,r),this};var s=function(t,e,n,i){if(n){var o=t[e]||(t[e]=[]),r=i.context,a=i.ctx,s=i.listening;s&&s.count++,o.push({callback:n,context:r,ctx:r||a,listening:s})}return t};i.off=function(t,e,n){return this._events?(this._events=r(c,this._events,t,e,{context:n,listeners:this._listeners}),this):this},i.stopListening=function(t,e,n){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:_.keys(i),r=0;r<o.length;r++){var a=i[o[r]];if(!a)break;a.obj.off(e,n,this)}return _.isEmpty(i)&&(this._listeningTo=void 0),this};var c=function(t,e,n,i){if(t){var o,r=0,a=i.context,s=i.listeners;if(e||n||a){for(var c=e?[e]:_.keys(t);r<c.length;r++){e=c[r];var l=t[e];if(!l)break;for(var u=[],h=0;h<l.length;h++){var d=l[h];n&&n!==d.callback&&n!==d.callback._callback||a&&a!==d.context?u.push(d):(o=d.listening,o&&0===--o.count&&(delete s[o.id],delete o.listeningTo[o.objId]))}u.length?t[e]=u:delete t[e]}return _.size(t)?t:void 0}for(var f=_.keys(s);r<f.length;r++)o=s[f[r]],delete s[o.id],delete o.listeningTo[o.objId]}};i.once=function(t,e,n){var i=r(l,{},t,e,_.bind(this.off,this));return this.on(i,void 0,n)},i.listenToOnce=function(t,e,n){var i=r(l,{},e,n,_.bind(this.stopListening,this,t));return this.listenTo(t,i)};var l=function(t,e,n,i){if(n){var o=t[e]=_.once(function(){i(e,o),n.apply(this,arguments)});o._callback=n}return t};i.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return r(u,this._events,t,void 0,n),this};var u=function(t,e,n,i){if(t){var o=t[e],r=t.all;o&&r&&(r=r.slice()),o&&h(o,i),r&&h(r,[e].concat(i))}return t},h=function(t,e){var n,i=-1,o=t.length,r=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,a);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,a,s);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}};i.bind=i.on,i.unbind=i.off,_.extend(n,i);var d=n.View=function(t){this.cid=_.uniqueId("view"),_.extend(this,_.pick(t,p)),this._ensureElement(),this.initialize.apply(this,arguments)},f=/^(\S+)\s*(.*)$/,p=["el","id","attributes","className","tagName","events"];_.extend(d.prototype,i,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof n.$?t:n.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=_.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(_.isFunction(n)||(n=this[n]),n){var i=e.match(f);this.delegate(i[1],i[2],_.bind(n,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el?this.$el.off(".delegateEvents"+this.cid):this.el&&$(this.el).off(),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"));else{var t=_.extend({},_.result(this,"attributes"));this.id&&(t.id=_.result(this,"id")),this.className&&(t.class=_.result(this,"className")),this.setElement(this._createElement(_.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var g=n.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this.initialize.apply(this,arguments),this._bindRoutes()},v=/\((.*?)\)/g,m=/(\(\?)?:\w+/g,w=/\*\w+/g,y=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(g.prototype,i,{initialize:function(){},route:function(t,e,i){_.isRegExp(t)||(t=this._routeToRegExp(t)),_.isFunction(e)&&(i=e,e=""),i||(i=this[e]);var o=this;return n.history.route(t,function(r){o._beforeRoute&&o._beforeRoute(e);var a=o._extractParameters(t,r);o.execute(i,a,e)!==!1&&(o.trigger.apply(o,["route:"+e].concat(a)),o.trigger("route",e,a),n.history.trigger("route",o,e,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,e){return n.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var t,e=_.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(y,"\\$&").replace(v,"(?:$1)?").replace(m,function(t,e){return e?t:"([^/?]+)"}).replace(w,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$","i")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return _.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var b=n.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},x=/^[#\/]|\s+$/g,k=/^\/+|\/+$/g,I=/#.*$/;b.started=!1,_.extend(b.prototype,i,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(x,"")},start:function(t){if(b.started)throw new Error("Backbone.history has already been started");if(b.started=!0,this.options=_.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(k,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,i=n.insertBefore(this.iframe,n.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),b.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),_.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!b.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(I,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),n.history=new b;var S=function(t,e){var n,i=this;n=t&&_.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},_.extend(n,i,e);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,t&&_.extend(n.prototype,t),n.__super__=i.prototype,n};g.extend=d.extend=b.extend=S,t.exports=n},function(t,e,n){var i,o;!function(r,a){i=a,o="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==o&&(t.exports=o))}(this,function(){"use strict";function t(){this.storage=r("localStorage")}var e=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n=function(t){return JSON.stringify(t)},i=function(t){return t&&JSON.parse(t)},o=function(t){var e=!1;if(t&&t.setItem){e=!0;var n="__"+Math.round(1e7*Math.random());try{t.setItem(n,n),t.removeItem(n)}catch(t){e=!1}}return e},r=function(t){return"string"==typeof t?window[t]:t},a=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},s=function(t,n){if(n=n||new Date,"number"==typeof t?t=t===1/0?e:new Date(n.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!a(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},c=function(t,n){return n=n||e,{c:(new Date).getTime(),e:s(n).getTime(),v:t}};return t.prototype={constructor:t,set:function(){},get:function(){},del:function(){},clearExp:function(){},clearAll:function(){},add:function(){},setExp:function(){},getExp:function(){}},o(r("localStorage"))&&(t.prototype={constructor:t,set:function(t,e,i){if("string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=""+t),void 0===e||null===e)return this.del(t);try{this.storage.setItem(t,n(c(n(e),i)))}catch(t){console.error(t)}return e},get:function(t){var e=i(this.storage.getItem(t));if(null!==e&&void 0!==e){var n=(new Date).getTime();if(n<e.e)return i(e.v);this.del(t)}return null},del:function(t){return this.storage.removeItem(t),t},clearExp:function(){for(var t=this.storage.length,e=[],n=this,o=0;o<t;o++){var r=this.storage.key(o),a=i(this.get(r));a&&!a.e&&(new Date).getTime()>=a.e&&e.push(r)}return e.forEach(function(t){n.del(t)}),e},clearAll:function(){this.storage.clear()},add:function(t,e,n){null!==this.get(t)&&void 0!==this.get(t)||this.set(t,e,n)},setExp:function(t,e){var i=this.get(t);null!==i&&void 0!==i&&(i.e=s(e,i.c),this.set(t,n(i),e))},getExp:function(t){var e=this.get(t);return e&&e.e}}),new t})},function(t,e,n){$.extend({checkNetwork:function(){return!0},serverError:function(){$.toast("服务器忙，请稍候再试!",1500)},isRetina:function(){return window.devicePixelRatio&&window.devicePixelRatio>=1.5},uniqID:function(t){return t=t||"",t+Math.floor(1e7*Math.random())+(new Date).getTime().toString().substring(10,13)},scrollTo:function(t){if("number"==typeof t)$(window).scrollTop(t);else{var e=$(t).offset();$(window).scrollTop(e.top)}},isWeixin:function(){return/MicroMessenger/i.test(navigator.userAgent)},isIOS:function(){return/ipad|iphone|iPod|Macintosh|mac os/i.test(navigator.userAgent)},isAndroid:function(){return/Android/i.test(navigator.userAgent)},charLen:function(t){return t?t.replace(/[^\x00-\xff]/g,"00").length:0},isMobileNum:function(t){return!isNaN(t)&&/^1[3|4|5|7|8]\d{9}$/.test(t)},isPassword:function(t){var e=/^(([a-z]+[0-9]+)|([0-9]+[a-z]+))[a-z0-9]*$/i;return e.test(t)},setCache:function(t,e,n,i){n=n||86400,i=i||0,!i&&(t+="_"+curUserID),fresh.cache[t]=e,store.set(t,e,n)},getCache:function(t,e){return e=e||0,!e&&(t+="_"+curUserID),fresh.cache[t]||store.get(t)},setToken:function(t){localStorage.setItem("yw_user_loginToken",t)},getToken:function(){return localStorage.getItem("yw_user_loginToken")},shareQQAddress:function(t,e){return"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent("http://channel.hujiang.com/ch_click.aspx?ch_source=st_qq&page="+location.href)+"&showcount=0&summary="+encodeURIComponent(e)+"&desc="+encodeURIComponent(e)+"&title="+encodeURIComponent(t)+"&site="+encodeURIComponent("摇旺理财")+"&pics="+encodeURIComponent("http://ms.hujiang.com/st/images/icon114.png")},shareWeiboAddress:function(t){var e=escape("http://channel.hujiang.com/ch_click.aspx?ch_source=st_weibo&amp;page="+location.href);return"http://service.weibo.com/share/share.php?url="+e+"&type=icon&language=zh_cn&title="+encodeURIComponent(t+"（阅读原文："+location.href+"，下载沪江手机客户端：http://hj.vc/vrjU3vJ）")+"&searchPic=http://ms.hujiang.com/st/images/icon114.png&style=simple"},setWeixinTitle:function(t){if(document.title=t,$.isWeixin()&&$.isIOS()){var e=$('<iframe src="https://static.91yaowang.com/yaowang/dist/source/mall/images/9e3e8cf0.png" style="border: 0;outline: 0"></iframe>');e.on("load",function(){setTimeout(function(){e.off("load").remove()},0)}).appendTo("body")}},setCursorPosition:function(t,e,n){if(void 0===e&&(e=t.value.length),void 0===n&&(n=t.value.length),t.setSelectionRange)setTimeout(function(){t.setSelectionRange(e,n),t.focus()},0);else if(t.createTextRange){var i=t.createTextRange();i.moveStart("character",e),i.moveEnd("character",n),i.select()}},getLimitString:function(t,e){var n=0;if(!e||$.charlen(t)<=e)return t;for(var i=0;i<t.length;i++)if(n+=t.charCodeAt(i)>255?2:1,e<=n)return t.substr(0,i+1)},getStaticOrgin:function(){var t=location.host.split(".")[0],e={dev:"http://staticdev.91yaowang.com",app:"https://statictest.91yaowang.com",wz:"https://file.91yaowang.com",apa:"https://file.91yaowang.com"};return e[t]||"https://statictest.91yaowang.com"},numberFormat:function(t,e){return e=e||1,isNaN(t=parseInt(t))?(0).toFixed(e):t>=1e4?(t/1e4).toFixed(e)+"万":t},changePage:function(t,e){fresh.router.navigate(t,{trigger:!0,replace:e})},hasNotMoreData:function(t,e,n){e?t.append('<div class="has_not_data">'+(n||"暂无数据")+"</div>"):(t.append('<div class="has_not_more_topic">没有更多了</div>'),setTimeout(function(){t.find(".has_not_more_topic").fadeOut()},3e3))},getParam:function(t,e){var n=new RegExp(e+"=([^#&]*)","i"),i=t.match(n);return null!=i?unescape(i[1]):null},sendSMS:n(6),isZipCode:function(t){return!isNaN(t)&&/^[0-9]{6}$/.test(t)},sync:n(7),batSync:n(8),customEvent:n(9),toast:n(10),parseURL:n(15),dateFormat:n(16),popWindow:n(17),loadMoreData:n(21),amountFormat:function(t){return t?(t=t.toString().split("."),(+t[0]).toLocaleString()+"."+(t[1]>=1?t[1]:"00")):"0.00"},isIDCard:n(22),login:function(){var t=$.getParam(location.href,"isapp");t?window.location="/weizhan/member/login":(localStorage.setItem("yw_user_after_login_link",location.href),window.location="/weizhan/#login")}}),$.extend($.fn,{css3Hack:n(23),translate3d:function(t,e,n){t=t||0,e=e||0,n=n||0,$(this).css({"-webkit-transform":"translate3d("+t+"px,"+e+"px,"+n+"px)","-moz-transform":"translate3d("+t+"px,"+e+"px,"+n+"px)",transform:"translate3d("+t+"px,"+e+"px,"+n+"px)"})},setTransitionTime:function(t){$(this).css({"-webkit-transition":+t+"s","-moz-transition":+t+"s",transition:+t+"s"})},overSlides:function(t){$(this).each(function(){$(this).overSlide(t)})},overSlide:n(24),bannerSlider:n(25)})},function(t,e){t.exports=function(t,e){var n=this;return $.isMobileNum(t)?!this.sendSMSing&&(this.sendSMSing=!0,void $.sync({url:fresh.apiRoot+"verifCode/getVerifCode",type:"post",data:{phoneNum:t},success:function(){var t,i=60;$(e).attr("disabled",!0).addClass("disabled"),t=setInterval(function(){i<=0?(n.sendSMSing=!1,$(e).html("获取验证码"),$(e).attr("disabled",!1).removeClass("disabled"),clearInterval(t)):$(e).html("重发 "+i+" S"),i--},1e3)}})):($.toast("请输入正确的手机号码"),!1)}},function(t,e){t.exports=function(t){var e={checkNetwork:!0,timeout:2e4},n=$.extend(!0,e,t),i=(n.type||"get").toLowerCase();if("get"==i&&(n.data?n.data.uniq=$.uniqID():n.data={uniq:$.uniqID()}),!n.checkNetwork||n.checkNetwork&&$.checkNetwork()){var o={url:n.url,type:i,data:n.data,dataType:"json",timeout:n.timeout,headers:{logintoken:$.getToken(),userID:localStorage.getItem("userID")||""},success:function(t){return $(".loading-refresh").hide(),t.status==-1?(localStorage.clear(),$.changePage("login"),$.popWindow({content:"账号在异地登录，若非本人操作请修改密码！",type:"2",yes:"确定",no:"取消",callback:function(t){t?console.log("登录"):history.go(-1)}}),!0):t.status==-2?($.popWindow({content:"您的请求无效！",type:"2",yes:"确定",callback:function(t){t&&history.go(-1)}}),!0):t.status==-3?($.popWindow({content:"维护时间段，某些操作无法进行！",type:"2",yes:"确定",callback:function(t){t&&history.go(-1)}}),!0):void(0==t.status?n.success&&n.success(t.data):n.error&&"function"===$.type(n.error)?n.error(t):$.toast(t.msg,1e3))},error:function(t){$(".loading-refresh").hide(),n.error&&"function"===$.type(n.error)?n.error(t):$.serverError()}};$(".loading-refresh").show(),$.ajax(o)}}},function(t,e){t.exports=function(t){var e={url:fresh.batchRoot+"batch/batchRequest.html?timer="+(new Date).getTime(),type:"post",data:{data:JSON.stringify(t.data)},headers:{logintoken:$.getToken(),userID:localStorage.getItem("userID")||""},dataType:"json",timeout:2e4,success:function(e){if($(".loading-refresh").hide(),0==e.status){var n=[];t.data.length>1?$.each(e.data,function(e,i){0==i.status?n.push(i.data):(n.push(null),console.log(t.data[e].url+" ::: "+i.msg))}):n=e.data,t.success&&t.success(n)}else t.error&&"function"===$.type(t.error)?t.error(e):$.toast(e.message,2e3)},error:function(e){$(".loading-refresh").hide(),t.error&&"function"===$.type(t.error)?t.error(e):$.serverError()}};$(".loading-refresh").show(),$.ajax(e)}},function(t,e){t.exports=function(t,e){e?(e.curPage=location.href,e.sourceID=sourceID,e.referrer=document.referrer,e.userID=curUserID):e={curPage:location.href,sourceID:sourceID,referrer:document.referrer,userID:curUserID},sendCustomEvent(t,e)}},function(t,e,n){n(11),t.exports=function(t,e,n){t||(t=""),n=n||5;var i=$.uniqID(),t=$('<div class="toast_info_box hide toast_info_box_site'+n+'" id="'+i+'"><span class="error_msg">'+t+"</span></div>");$("body").append(t),$("#"+i).fadeIn();var o=function(){$("#"+i).fadeOut(),setTimeout(function(){$("#"+i).remove()},200)};return e!==!1&&setTimeout(function(){o()},e||2e3),{close:function(){o()}}}},function(t,e){},,,,function(t,e){t.exports=function(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,n={},i=e.search.replace(/^\?/,"").split("&"),o=i.length,r=0;r<o;r++)i[r]&&(t=i[r].split("="),n[t[0]]=t[1]);return n}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")}}},function(t,e){t.exports=function(t,e){function n(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}if(!t)return"";n(t)||(t=new Date(t));var i=new Date,o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()},r=function(e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e};if(e)return r(e);var a=(new Date).getTime()-t.getTime();return!t||a<=3e3?"刚刚":Math.floor(a/1e3)<60?Math.floor(a/1e3)+"秒钟前":Math.floor(a/6e4)<60?Math.floor(a/6e4)+"分钟前":Math.floor(a/36e5)<24?Math.floor(a/36e5)+"小时前":Math.floor(a/864e5)<=10?Math.floor(a/864e5)+"天前":r(i.getFullYear()==t.getFullYear()?"MM-dd hh:mm":"yyyy-MM-dd hh:mm")}},function(t,e,n){var i=_.template(n(18));n(19),t.exports=function(t){var e,n={title:"",content:"",yes:"确认",no:"",uniqID:$.uniqID(),type:1,closeBtn:!1,tapMask:!1,callback:$.noop()},o={};o=$.extend(n,t),1==o.type&&(o.no=o.no||"取消"),e=$(i(o)),$("body").append(e).on("tap.popWindow"+o.uniqID,".yes_btn,.no_btn,.pop_window_wrap",function(t){var n=!1,i=$(t.target),r=$(t.currentTarget);return i.hasClass("pop_window_wrap")&&o.tapMask?(e.remove(),$("body").off("tap.popWindow"+o.uniqID),!1):void((r.hasClass("yes_btn")||r.hasClass("no_btn"))&&(r.hasClass("yes_btn")&&(n=!0),"function"==$.type(o.callback)?o.callback(n)!==!1&&(e.remove(),$("body").off("tap.popWindow"+o.uniqID)):(e.remove(),$("body").off("tap.popWindow"+o.uniqID))))});var r=e.find(".pop_window");r.css("margin-top",-r.height()/2),$(window).on("popstate.popWindow"+o.uniqID,function(){e.remove(),$("body").off("tap.popWindow"+o.uniqID),$(window).off("popstate.popWindow"+o.uniqID)})}},function(t,e){t.exports='<div class="pop_window_wrap">\r\n <% if(type==1){%>\r\n<div class="pop_window" id="<%=uniqID%>">\r\n<div class="pop_header">\r\n <span class="no_btn"><%=no%></span>\r\n <span class="yes_btn"><%=yes%></span>\r\n <span class="pop_title"><%=title%></span>\r\n</div>\r\n<div class="pop_content"><%=content%></div>\r\n</div>\r\n <% }else if(type==2){ %>\r\n<div class="pop_window pop_window2" id="<%=uniqID%>">\r\n <% if(closeBtn){ %>\r\n<div class="no_btn close_btn">Ｘ</div>\r\n <% } %>\r\n <% if(title){ %>\r\n<div class="pop_title"><%=title%></div>\r\n <% } %>\r\n<div class="pop_content"><%=content%></div>\r\n<div class="pop_btns">\r\n <% if(no){ %>\r\n <span class="yes_btn"><%=yes%></span>\r\n <span class="no_btn"><%=no%></span>\r\n <% }else{ %>\r\n <span class="yes_btn yes_btn_all"><%=yes%></span>\r\n <% } %>\r\n</div>\r\n</div>\r\n <% } %>\r\n</div>\r\n';
},function(t,e){},,function(t,e){t.exports=function(t){function e(){i.data.currentPage=s,i.data.page=s;var t={url:i.url,type:i.type,contentBox:"",data:i.data,success:function(t){var e=!0;t&&t.data&&t.data.salOfList?(!t||Math.ceil(t.totalCount/i.data.limit)<=s||0==t.data.salOfList.length)&&($(window).off("scroll."+a),e=!1):t&&t.list&&t.list.length<i.data.count&&($(window).off("scroll."+a),e=!1),s+=1,r=!1,i.success(t,e)},error:function(t){i.error&&i.error(t),$(window).off("scroll."+a)},loading:i.loading};$.sync(t)}var n={loading:".loading",padding:200,url:"",loadFirstPage:!1,type:"get",data:{start:1,limit:10,pageType:1},success:function(){},error:null},i=$.extend(!0,n,t),o=$(window).height(),r=!1,a=$.uniqID(),s="undefined"!=typeof i.data.currentPage?i.data.currentPage:i.data.page;return i.loadFirstPage&&(r=!0,e()),$(window).on("scroll."+a,function(){var t=document.body.scrollTop;t+o+i.padding>fresh.$content.height()&&!r&&(r=!0,e())}),{destory:function(){$(window).off("scroll."+a)}}}},function(t,e){t.exports=function(t){var e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},n="",i=!0,o=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;if(t&&o.test(t))if(e[t.substr(0,2)]){if(18==t.length){t=t.split("");for(var r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=[1,0,"X",9,8,7,6,5,4,3,2],s=0,c=0,l=0,u=0;u<17;u++)c=t[u],l=r[u],s+=c*l;a[s%11];a[s%11]!=t[17]&&(n="校验位错误",i=!1)}}else n="地址编码错误",i=!1;else n="身份证号格式错误",i=!1;return i}},function(t,e){t.exports=function(t,e){function n(t,e){var n={};return n["-weikit-"+t]=e,n["-moz-"+t]=e,n["-ms-"+t]=e,n[t]=e,n}$(this).each(function(){var i=$(this);setTimeout(function(){i.css(n(t,e))},0)})}},function(t,e){t.exports=function(t,e){var n=$(this),i=n.parent(),o=n.children(),r=i.outerWidth(!0),a=parseInt(n.css("padding-left"))+parseInt(n.css("padding-right")),s=0,c=1,l={move:!0,padding:20};"function"==$.type(t)?(e=t,t={}):t=$.extend(!0,l,t),s+=t.padding,o.each(function(){s+=$(this).outerWidth(!0)}),s+=a;var u=function(){var o,a=startX=dx=dy=endTy=endTx=0;n.addClass("bindedEvent").css("width",s),i.on("touchstart",function(e){o=new Date,a=e.originalEvent.touches[0].pageY,t.move?startX=e.originalEvent.touches[0].pageX-n.offset().left:startX=e.originalEvent.touches[0].pageX}),i.on("touchmove",function(e){endTy=e.originalEvent.changedTouches[0].pageY,endX=e.originalEvent.changedTouches[0].pageX,dx=endX-startX,dy=endTy-a;var i=Math.abs(dx),o=Math.abs(dy);o>i||o>10||i<c||(event.preventDefault(),t.move!==!1&&(n.setTransitionTime(0),n.translate3d(dx)))}),i.on("touchend",function(a){var c=new Date;(dx<12||dx>-12)&&(dy>-12||dy<12)&&c-o<200&&t.tap&&(o=c,i.trigger("tap"));var l=n.offset().left;n.setTransitionTime(.3),l>0&&n.translate3d(0),l<-(s-r)&&n.translate3d(-(s-r)),e&&e(dx,dy),dx=0,dy=0})};if(!n.hasClass("bindedEvent"))return s>r&&u(),{destory:function(){n.removeClass("bindedEvent"),i.off()},reset:function(){s=0,r=n.parent().outerWidth(!0),n.children().each(function(){s+=$(this).outerWidth(!0)}),s+=a+t.padding,n.css("width",s)},moveTo:function(t){var e=0;n.children().each(function(n){t-n>0&&(e+=$(this).outerWidth(!0))}),-e<-(s-r)&&(e=s-r),e<r&&(e=0),n.setTransitionTime(0),n.translate3d(-e),oldX=-e}}}},function(t,e){t.exports=function(t,e){function n(){0!==e&&(clearInterval(o),o=setInterval(function(){u(-21)},e))}var i,o,r=$(this),a=$(this).children(),s=a.outerWidth(!0),c=a.length,l=1;a.css("width",a.outerWidth(!0)),t.eq(0).addClass("active").siblings().removeClass("active");var u=function(e){e>20?(l-=1,l=0==l?c:l):e<-20&&(l+=1,l=l>c?1:l),r.translate3d(-(l-1)*s),t.eq(l-1).addClass("active").siblings().removeClass("active"),n()};return i=r.overSlide({move:!1,tap:!0},function(t){u(t)}),n(),{next:function(){u(-21)},prev:function(){u(21)}}}},function(t,e){},,,,,function(t,e){!function(){function t(t){return new Event(t,{bubbles:!0,cancelable:!0})}function e(){a={}}function n(t){var e=t.touches[0];s={x:e.clientX,y:e.clientY,time:Date.now()},r=t.target,r="tagName"in r?r:r.parentNode}function i(t){var e=t.touches[0];a={x:e.clientX-s.x,y:e.clientY-s.y}}function o(){var e=Date.now()-s.time,n=Math.abs(a.y),i=Math.abs(a.x),o=(250>e&&i>20||i>80)&&(n<30||i>1.5*n),c=(250>e&&n>20||n>80)&&(i<30||n>1.5*i),l=a.x<0,u=a.y<0;250>e&&(isNaN(a.y)||n)<12&&(isNaN(a.x)||i<12)?r.dispatchEvent(t("tap")):750<e&&(isNaN(a.y)||n)<12&&(isNaN(a.x)||i<12)&&r.dispatchEvent(t("longTap")),o?r.dispatchEvent(t(l?"swipeLeft":"swipeRight")):c&&r.dispatchEvent(t(u?"swipeUp":"swipeDown")),a={}}var r,a={},s={};document.addEventListener("touchstart",n),document.addEventListener("touchmove",i),document.addEventListener("touchend",o),document.addEventListener("touchcanel",e)}()},function(t,e){!function(){function t(t,e){1==arguments.length&&(e=t,t=location.href);var n=new RegExp("[^\\w*]"+e+"=([^#&]*)","i"),i=n.exec(t);return null!=i?decodeURIComponent(i[1]):null}function e(t){for(var e,n={},i=t.split("?"),o=i[1]&&i[1].split("&"),r=o&&o.length,a=0;a<r;a++)o[a]&&(e=o[a].split("="),n[e[0]]=e[1]);return n}function n(t,n){1==arguments.length&&(n=t,t=location.href);var i=e(t);return $.each(i,function(t,e){t==n&&delete i[t]}),$.param(i)}function i(t,e){return encodeURIComponent(JSON.stringify({type:t,data:e}))}var o,r=$(),a=function(){function e(t){a?window.location="/toApp?actions="+i("yaobaoDetail",{productNo:t}):window.location="/weizhan/#yaobao/"+t}var a=(window.JF,t("isApp")),s={};this.share=function(){a?window.location="/toApp?actions="+i("share",{title:s.title,desc:s.desc,icon:s.icon,link:s.link}):(r=$(".share_mask"),r.length?r.show().on("tap.share_mask",function(){r.hide().off("tap.share_mask")}):(r=$('<div class="share_mask"></div>'),$("body").append(r),r.show().on("tap.share_mask",function(){r.hide().off("tap.share_mask")})))},this.setShareInfo=function(t){function e(){var t={title:a,desc:c,link:l,imgUrl:u,success:function(){h(),r.hide().off("tap.share_mask")},cancel:function(){r.hide().off("tap.share_mask")}};wx.showOptionMenu(),wx.ready(function(){wx.onMenuShareAppMessage(t),wx.onMenuShareTimeline(t),wx.onMenuShareQQ(t),wx.onMenuShareWeibo(t),wx.onMenuShareQZone(t)})}function i(){wx.config({debug:!1,appId:o.appid,timestamp:o.timestamp,nonceStr:o.nonceStr,signature:o.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","openLocation","getLocation","scanQRCode"]}),e()}var a=t.title||"跟我来摇旺赚钱吧，100元返现券、14%新手专享产品和万元体验金等你来拿~",c=t.desc||"不会理财的人不漂亮！",l=t.link||location.href,u=t.icon||"https://file.91yaowang.com/yaowang/dist/globalImg/logo.png",h=t.callback||function(){};l=l.split("?")[0]+"?"+n(l,"isapp"),l=l.split("?")[0]+"?"+n(l,"loginToken"),s={title:a,desc:c,link:l,icon:u},o?e():$.ajax({type:"get",url:location.origin+"/app/oauth/config.html",data:{url:location.href.split("#")[0]},dataType:"json",success:function(t){0==t.status&&(o=t.data,i(t.data))}})},this.toList=function(){a?window.location="/toApp?actions="+i("productList",""):window.location="/weizhan/#product"},this.toDetail=function(t){a?window.location="/toApp?actions="+i("productDetail",{productNo:t}):window.location="/weizhan/#product/"+t},this.transferList=function(){a?window.location="/toApp?actions="+i("transferList",""):window.location="/weizhan/#transfer"},this.transferDetail=function(t){a?window.location="/toApp?actions="+i("transferDetail",{orderNo:t}):window.location="/weizhan/#transfer/detail/"+t},this.yaobao=function(t){t>0?e(t):$.ajax({url:location.origin+"/app/webservice/v2/newProductList",type:"post",dataType:"json",data:{currentPage:0,pageCount:15,productType:4,channelCode:""},success:function(t){0==t.status&&e(t.data.currentProduct.productNo)}})},this.mall=function(){a?window.location="/toApp?actions="+i("wangjiaHome",""):window.location="/weizhan/#mall"},this.mallDetail=function(t){a?window.location="/toApp?actions="+i("wangjiaDetail",{id:t}):window.location="/weizhan/#mall/goodsDetail/"+t},this.fund=function(){a?window.location="/toApp?actions="+i("fundList",""):window.location="/weizhan/#fund"},this.toFundDetail=function(t){a?window.location="/toApp?actions="+i("fundDetail",{fundCode:t}):window.location="/weizhan/#app/download"},this.couponList=function(){a?window.location="/toApp?actions="+i("giftList",""):window.location="/weizhan/#uc/welfare/couponList"},this.VIP=function(){a?window.location="/toApp?actions="+i("VIP",""):window.location="/weizhan/#member/home"},this.invite=function(){a?window.location="/weizhan/#uc/invite":window.location="/weizhan/#uc/invite"},this.login=function(t){t=t||"",a?window.location="/toApp?actions="+i("login",{phoneNum:t}):(localStorage.setItem("yw_user_after_login_link",location.href),window.location="/weizhan/#login?mobile="+t)},this.register=function(t){t=t||"",a?window.location="/toApp?actions="+i("register",{phoneNum:t}):(localStorage.setItem("yw_user_after_login_link",location.href),window.location="/weizhan/#register?mobile="+t)},this.setTitle=function(t){a?window.location="/toApp?actions="+i("navigationTitle",{title:t}):$.setWeixinTitle(t)},this.toUcHome=function(){a?window.location="/toApp?actions="+i("assets",""):window.location="/weizhan/#uc/home"},this.toUcSetting=function(){a?window.location="/toApp?actions="+i("setting",""):window.location="/weizhan/#uc/setting"},this.appTel=function(t){a&&(window.location="/toApp?actions="+i("tel",{phoneNum:t}))},this.goBack=function(){a?window.location="/toApp?actions="+i("back",""):history.go(-1)},this.getCallback=function(){var e,n=t("callback");if(""==n)return!1;try{return e=JSON.parse(n),1==e.status&&e.data}catch(t){}}};window.jsb=new a}()},function(t,e,n){function i(){$(window).scrollTop(0),fresh.$content.off().html('<div class="loading"></div><div class="grey center">加载中...</div>')}var o,r="";t.exports=Backbone.Router.extend({initialize:function(){this.bind("route",function(t){r=location.href,setTimeout(function(){$("#changePageAnimate").fadeOut()},400)})},_beforeRoute:function(t){i(),o=t,r?$("#changePageAnimate").show():fresh.$body.append('<div class="change_page_loading" id="changePageAnimate"><div class="page_loading"></div></div>')},routes:{"":"home","myGift/*":"myGift",rd:"home"},home:function(){var t=n(34);new t({el:fresh.$content})},myGift:function(t){var e=n(73);new e({el:fresh.$content,type:t})}})},function(t,e,n){var i=_.template(n(35));n(36);n(43);t.exports=Backbone.View.extend({initialize:function(t){this.code=localStorage.getItem("yw_user_inviteCode")||"",this.type=t.type||"",this.token=localStorage.getItem("yw_user_loginToken")||"",this.isApp=$.getParam(location.href,"isapp"),this.channelInviteValue=$.getParam(location.href,"i")||"ywlc",this.platform="WAP",this.isApp&&(this.token=$.getParam(location.href,"loginToken")||"",this.platform="ANDROID",$.isIOS()&&(this.platform="IOS")),window.customEvent(3,"22.22.22","女神季首页可见"),this.statistics(),this.getData()},getData:function(){var t=this;this.cache={isApp:this.isApp,isLogin:this.token,investAmt:0,inviteNum:0},this.token?$.sync({url:fresh.apiRoot+"rightGive/getInvestInfo",type:"post",data:{loginToken:this.token},success:function(e){t.cache.investAmt=e.investAmt,t.cache.inviteNum=e.inviteNum,t.render()},error:function(e){console.log(e.msg),t.render()}}):t.render()},render:function(){return this.$el.html(i()),this._initEvent(),$("#flower").let_it_snow({windPower:-3,speed:1,count:10,total:15,size:10}),this},_initEvent:function(){var t=n(44);new t({el:this.$el.find(".top-status-box"),cache:this.cache});var e=n(57);new e({el:this.$el.find(".gift-list"),cache:this.cache})},events:{"tap .my-gift-btn":"changePage"},changePage:function(){this.token?$.changePage("myGift"):$.login()},statistics:function(){var t=this;this.token&&this.channelInviteValue&&$.sync({url:fresh.apiRoot+"marketActi/inertLog",type:"post",data:{loginToken:t.token,actiCode:"NSJHD",channelCode:t.channelInviteValue,platform:t.platform},success:function(t){},error:function(t){}})}})},function(t,e){t.exports='<div class="top-status-box"></div>\r\n<div class="gift-list"></div>\r\n<div class="home-rule" style="min-height:<%=1321*$(window).width()/750%>px">\r\n<div class="my-gift-btn"></div>\r\n<div class="linetop" style="height:<%=120*$(window).width()/750%>px"></div>\r\n<div class="linecenter">\r\n<ol>\r\n<li>活动时间为2017年3月24日—2017年4月10日</li>\r\n<li>活动期间消耗所选奖品对应的投资值及邀请值，即可获取该奖品</li>\r\n<li>活动期间每投资1元年化金额增加1个投资值<br/>年化金额计算方式：所投金额×投资产品期限/360；例：A投资20000元180天产品，则其投资年化金额为 20000×180/360=10000元，可获得10000个投资值\r\n</li>\r\n<li>活动期间每邀请1个新投资用户增加1个邀请值，新用户需在活动开始前没有过任何投资记录，且在活动期间投资90天及以上产品≥1000元</li>\r\n<li>用户及其邀请用户必须投资定期产品（不包括变现产品及新手产品）才有效</li>\r\n<li>部分奖品因为海外代购产品，将于活动结束后60日内发放</li>\r\n<li>本活动奖品不与其他活动同享</li>\r\n<li>详询客服热线：4000499188</li>\r\n<li>本活动奖品图片供参考，以实际奖品为准</li>\r\n<li>理财有风险，投资需谨慎</li>\r\n <% if($.isIOS()){ %>\r\n<li>本活动与苹果公司无关</li>\r\n <% } %>\r\n<li>本活动最终解释权归揺旺所有</li>\r\n</ol>\r\n</div>\r\n<div class="linebottom" style="height:<%=120*$(window).width()/750%>px"></div>\r\n</div>\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/share.jpg\' %>" style="display: none">\r\n<canvas class="flower" id="flower"></canvas> \r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f1.png\' %>" class="list_flake" style="display: none">\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f3.png\' %>" class="list_flake" style="display: none">\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f4.png\' %>" class="list_flake" style="display: none">\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f5.png\' %>" class="list_flake" style="display: none">\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f6.png\' %>" class="list_flake" style="display: none">\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f7.png\' %>" class="list_flake" style="display: none">\r\n<img src="<%= location.origin+\'/events/freeGifts/dist/f8.png\' %>" class="list_flake" style="display: none">\r\n\r\n'},function(t,e){},,,,,,,function(t,e){!function(t){var e={speed:0,interaction:!0,size:2,count:200,opacity:0,color:"#ffffff",windPower:0,image:!1,total:!1};t.fn.let_it_snow=function(n){function i(){h.clearRect(0,0,u.width,u.height);for(var e=0;e<d;e++){var n=l[e],r=f,a=p,c=100,g=n.x,v=n.y,m=Math.sqrt((g-r)*(g-r)+(v-a)*(v-a));if(m<c){var w=c/(m*m),y=(r-g)/m,_=(a-v)/m,b=w/2;n.velX-=b*y,n.velY-=b*_}else switch(n.velX*=.98,n.velY<=n.speed&&(n.velY=n.speed),s.windPower){case!1:n.velX+=Math.cos(n.step+=.05)*n.stepSize;break;case 0:n.velX+=Math.cos(n.step+=.05)*n.stepSize;break;default:n.velX+=.01+s.windPower/100}var x=s.color,$=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,k=$.exec(x);parseInt(k[1],16)+","+parseInt(k[2],16)+","+parseInt(k[3],16);if(n.y+=n.velY,n.x+=n.velX,(n.y>=u.height||n.y<=0)&&o(n),(n.x>=u.width||n.x<=0)&&o(n),0==s.image){var I=t(".list_flake").length,S=Math.floor(Math.random()*I);n.index>-1&&(S=n.index),n.index=S,h.drawImage(t(".list_flake").get(S),n.x,n.y,2*n.size,2*n.size)}else h.drawImage(t("img#lis_flake").get(0),n.x,n.y,2*n.size,2*n.size)}requestAnimationFrame(i)}function o(t){s.total&&parseInt(s.total-s.count)>=0?g>=0?(r(t),g--):setTimeout(function(){c.remove()},600):r(t)}function r(t){if(0==s.windPower||0==s.windPower)t.x=Math.floor(Math.random()*u.width),t.y=0;else if(s.windPower>0){var e=Array(Math.floor(Math.random()*u.width),0),n=Array(0,Math.floor(Math.random()*u.height)),i=Array(e,n),o=i[Math.floor(Math.random()*i.length)];t.x=o[0],t.y=o[1]}else{var e=Array(Math.floor(Math.random()*u.width),0),n=Array(u.width,Math.floor(Math.random()*u.height)),i=Array(e,n),o=i[Math.floor(Math.random()*i.length)];t.x=o[0],t.y=o[1]}t.size=3*Math.random()+s.size,t.speed=1*Math.random()+s.speed,t.velY=t.speed,t.velX=0,t.opacity=.5*Math.random()+s.opacity}function a(){for(var t=0;t<d;t++){var e=Math.floor(Math.random()*u.width),n=Math.floor(Math.random()*u.height),o=3*Math.random()+s.size,r=1*Math.random()+s.speed,a=.5*Math.random()+s.opacity;l.push({speed:r,velY:r,velX:0,x:e,y:n,size:o,stepSize:Math.random()/30,step:0,angle:0,opacity:a,index:-1})}i()}var s=t.extend({},e,n),c=t(this),l=[],u=c.get(0),h=u.getContext("2d"),d=s.count,f=-100,p=-100;u.width=window.innerWidth,u.height=window.innerHeight,function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.requestAnimationFrame=t}(),0!=s.image&&t("<img src='"+s.image+"' style='display: none' id='lis_flake'>").prependTo("body");var g=0;s.count;s.total&&parseInt(s.total-s.count)>=0&&(g=s.total-s.count),a(),t(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){el2=c.clone(),el2.insertAfter(c),c.remove(),el2.let_it_snow(s)},200)}),t(document).on("click",function(){c.remove()}),1==s.interaction&&u.addEventListener("mousemove",function(t){f=t.clientX,p=t.clientY})}}(window.jQuery)},function(t,e,n){var i=_.template(n(45));n(46),t.exports=Backbone.View.extend({initialize:function(t){this.cache=t.cache,this.render()},render:function(){return this.$el.html(i(this.cache)),this},events:{"tap .go-product-btn":"goProduct","tap .go-invite-btn":"invite","tap .my-value,.my-invite":"showTip","tap .share":"share","tap .login-btn":"login","tap .myinvestval":"myinvestval","tap .myinviteval":"myinviteval"},share:function(){this.cache.isLogin?jsb.share():$.login()},goProduct:function(){this.cache.isApp?window.location="/weizhan/product/productClassifyList":window.location="/weizhan/#product"},invite:function(){this.share()},login:function(){$.login()},showTip:function(t){var e=$(t.currentTarget).find(".tip-txt");e.show(),setTimeout(function(){e.hide()},5e3)},myinvestval:function(){$.popWindow({title:"投资值",content:'<p class="popcontent">活动期间每投资<span>年化金额1元</span><br/>增加<span>1个投资值</span></p>',yes:"我知道了",type:2})},myinviteval:function(){$.popWindow({title:"邀请值",content:'<p class="popcontent">活动期间每邀请1个新投资用户<br/>增加1个邀请值<span><br/>(新用户需投资90天及以上产品≥1000元)</span></p>',yes:"我知道了",type:2})}})},function(t,e){t.exports='<div class="top-status" style="height:<%=Math.floor(930*$(window).width()/750)%>px">\r\n <% if(isLogin==""){ %>\r\n<p class="un-login-tip">您还没有登录，登录后赢取豪礼！</p>\r\n<div class="login-btn"></div>\r\n <% }else{ %>\r\n<div class="my-value">\r\n<div class="title myinvestval">我的投资值</div>\r\n <span class="num"><%=investAmt%></span>\r\n \r\n</div>\r\n<div class="my-value my-invite ">\r\n<div class="title myinviteval">我的邀请值</div>\r\n <span class="num"><%=inviteNum%></span>\r\n \r\n</div>\r\n<div class="my-value go-product-btn"></div>\r\n<div class="my-value go-invite-btn"></div>\r\n <% } %>\r\n<div class="share">分享</div> \r\n</div>\r\n<div class="share_mask"></div>'},function(t,e){},,,,,,,,,,,function(t,e,n){var i=_.template(n(58)),o=_.template(n(59)),r=_.template(n(60)),a=_.template(n(61));n(62),t.exports=Backbone.View.extend({initialize:function(t){this.cache=t.cache,this.getData()},getData:function(){var t=this;$.sync({url:fresh.apiRoot+"rightGive/goodsList",type:"get",data:{loginToken:this.cache.isLogin},success:function(e){t.pdInfo=e.list,t.render()},error:function(e){console.log(e.msg),t.render()}})},render:function(){return this.$el.html(i({user:this.cache,pdInfo:this.pdInfo})),this},_checkAddress:function(){var t=this;$.sync({url:fresh.apiRoot+"rightGive/getAddress",type:"post",success:function(e){$.popWindow({content:r(e||{consignee:"",mobile:"",address:""}),yes:"提交",no:"退出",type:2,callback:function(e){if(e){var n=$(".pop_window"),i=n.find("textarea").val(),o=n.find("input").eq(1).val(),r=n.find("input").eq(0).val();if(r.length<2||r.length>20)return $.toast("请正确填写收货人姓名,字数在2~20之间"),!1;if(!$.isMobileNum(o))return $.toast("请正确填写手机号码"),!1;if(i.length<11||i.length>100)return $.toast("请正确填写详细地址，字数在11~100之间"),!1;$.sync({url:fresh.apiRoot+"rightGive/buy",type:"post",data:{consignee:r,address:i,mobile:o,goodsNo:t.pdInfo[t.exchangeID].goodsNo},success:function(){t._exchange()}})}}})}})},_exchange:function(){var t=this,e=this.pdInfo[this.exchangeID];$.popWindow({content:a(e),yes:"查看订单",type:2,callback:function(n){n&&($.changePage("myGift"),t.cache.investAmt-=e.investVal,t.cache.inviteNum-=e.inviteVal,t.render())}})},events:{"tap .exchange-btn":"exchange","tap .gift-btn":"getGift"},exchange:function(t){var e=this,n=$(t.currentTarget).parent().attr("data-id"),i=this.pdInfo[n];$.popWindow({content:o(i),yes:"确认兑换",no:"考虑一下",type:2,callback:function(t){t&&(e.exchangeID=n,e._checkAddress())}})},getGift:function(t){var e=$(t.currentTarget).parent().attr("data-id"),n=this.pdInfo[e],i=0,o='<p style="text-align:center">您还需要';return this.cache.isLogin?(this.cache.investAmt<n.investVal&&(i=1,o+='<span class="red">'+(n.investVal-this.cache.investAmt)+"投资值</span>"),this.cache.inviteNum<n.inviteVal&&(o+=(1==i?" + ":"")+'<span class="red">'+(n.inviteVal-this.cache.inviteNum)+"个邀请值</span>"),o+="才能兑换该商品</p>",void $.popWindow({title:n.goodsName,content:o,yes:"知道了",type:2})):($.login(),!1)}})},function(t,e){t.exports='<% _.each(pdInfo,function(n,i){ %>\r\n<%if(i<4){%>\r\n<div class="gift-one" style="height:<%=422*$(window).width()/750%>px" data-id="<%=i%>">\r\n\t<% if(user.investAmt>=n.investVal && user.inviteNum>=n.inviteVal){ %>\r\n\t<div class="exchange-btn btn-idx<%=i%>"></div>\r\n\t<% }else{ %>\r\n\t<div class="gift-btn btn-idx<%=i%>"></div>\r\n\t<% } %>\r\n</div>\r\n<%}%>\r\n<% }) %>\r\n'},function(t,e){t.exports='<div class="exchange-tip">\r\n<div class="exchange-box">\r\n<div class="status"></div>\r\n<div class="dot">兑换</div>\r\n<div class="dot">填写地址</div>\r\n<div class="dot">完成</div>\r\n</div>\r\n<h3><%=goodsName%></h3>\r\n<p>您将消耗<%=investVal%>投资值+<%=inviteVal%>邀请值兑换该商品，确认要兑换吗？</p>\r\n</div>'},function(t,e){t.exports='<div class="exchange-tip">\r\n<div class="exchange-box">\r\n<div class="status status2"></div>\r\n<div class="dot">兑换</div>\r\n<div class="dot">填写地址</div>\r\n<div class="dot">完成</div>\r\n</div>\r\n<div class="address-form">\r\n<p><label>收件人：</label><input type="text" value="<%=consignee%>" maxlength="20"></p>\r\n<p><label>手机号：</label><input type="text" value="<%=mobile%>" maxlength="11"></p>\r\n<p><label>详细地址：</label><textarea maxlength="100"><%=address%></textarea></p>\r\n<p class="tip-text">请认真核对您的地址信息，提交订单后将无法修改</p>\r\n</div>\r\n</div>'},function(t,e){t.exports='<div class="exchange-tip">\r\n<div class="exchange-box">\r\n<div class="status status3"></div>\r\n<div class="dot">兑换</div>\r\n<div class="dot">填写地址</div>\r\n<div class="dot">完成</div>\r\n</div>\r\n<p>恭喜您，成功兑换商品</p>\r\n<h3><%=goodsName%></h3>\r\n</div>'},function(t,e){},,,,,,,,,,,function(t,e,n){var i=_.template(n(74));n(75),t.exports=Backbone.View.extend({initialize:function(t){this.type=t.type,this.getData()},getData:function(){var t=this;this.cache=[],$.sync({url:fresh.apiRoot+"rightGive/orderList",type:"get",data:{loginToken:localStorage.getItem("yw_user_loginToken")},success:function(e){t.cache=e.list,t.render()},error:function(e){t.render()}})},render:function(){return this.$el.html(i({list:this.cache})),$.setWeixinTitle("兑换记录"),this},events:{"tap .back-btn":"gotback"},gotback:function(){$.changePage("")}})},function(t,e){t.exports='<div class="my-gift-wrap">\r\n <% if(list.length==0){ %>\r\n<div class="empty-list">\r\n 您还没有换取任何商品快去0元换购吧！\r\n</div>\r\n <% }else{\r\n    _.each(list,function(n){ %>\r\n<div class="my-gift-one">\r\n<div class="pd-<%=n.goodsNo%> pd-content clearfix">\r\n<h3><%=n.goodsName%></h3>\r\n<p>市场价：<%=n.marketAmt%></p>\r\n<p>消耗投资值：<%=n.investVal%></p>\r\n<p>消耗邀请值：<%=n.inviteVal%></p>\r\n<div class="img-box">\r\n <img src="https://file.91yaowang.com/uploadFiles/activity/nsjhd/nsjhd_<%=n.goodsNo%>.jpg">\r\n</div>\r\n</div>\r\n<div class="addr-box">\r\n<p>收件人：<%=n.consignee%><span class="fr">手机号：<%=n.mobile%></span></p>\r\n<p>详细地址：<%=n.address%></p>\r\n</div>\r\n</div>\r\n <% }) %>\r\n<p class="tip-text">您的奖品将于活动结束后30-60日内发放详见规则说明</p>\r\n <% } %>\r\n<div class="back-btn">返回活动页</div>\r\n</div>'},function(t,e){}]);